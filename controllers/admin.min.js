const Content=require("../models/content");exports.getAddContent=(req,res,next)=>{res.render("admin/edit-content",{pageTitle:"Add Content",path:"/admin/add-content",editing:!1})},exports.postAddContent=(req,res,next)=>{const title=req.body.title,description=req.body.description,firstIcon=req.body.firstIcon,firstLink=req.body.firstLink,firstLinkText=req.body.firstLinkText,secondIcon=req.body.secondIcon,secondLink=req.body.secondLink,secondLinkText=req.body.secondLinkText,thirdIcon=req.body.thirdIcon,thirdLink=req.body.thirdLink,thirdLinkText=req.body.firstLinkText,sourceTitle=req.body.sourceTitle,sourceDescription=req.body.sourceDescription,githubLinkText=req.body.githubLinkText,gitHubIcon=req.body.gitHubIcon,content=new Content(null,title,description,firstIcon,firstLink,firstLinkText,secondIcon,secondLink,secondLinkText,thirdIcon,thirdLink,thirdLinkText,sourceTitle,sourceDescription,githubLinkText,gitHubIcon);content.save(),res.redirect("/admin/all-content")},exports.getEditContent=(req,res,next)=>{const editMode=req.query.edit;if(!editMode)return res.redirect("/");const contId=req.params.contentId;Content.findById(contId,content=>{if(!content)return res.redirect("/");res.render("admin/edit-content",{pageTitle:"Edit Presentation",path:"/admin/edit-content",editing:editMode,content:content})})},exports.postEditContent=(req,res,next)=>{const contId=req.body.contentId,updatedTitle=req.body.title,updatedDescription=req.body.description,updatedFirstIcon=req.body.firstIcon,updatedFirstLink=req.body.firstLink,updatedFirstLinkText=req.body.firstLinkText,updatedSecondIcon=req.body.secondIcon,updatedSecondLink=req.body.secondLink,updatedSecondLinkText=req.body.secondLinkText,updatedThirdIcon=req.body.thirdIcon,updatedThirdLink=req.body.thirdLink,updatedThirdLinkText=req.body.thirdLinkText,updatedsourceTitle=req.body.sourceTitle,updatedsourceDescription=req.body.sourceDescription,updatedgithubLinkText=req.body.githubLinkText,updatedgitHubIcon=req.body.gitHubIcon,updatedContent=new Content(contId,updatedTitle,updatedDescription,updatedFirstIcon,updatedFirstLink,updatedFirstLinkText,updatedSecondIcon,updatedSecondLink,updatedSecondLinkText,updatedThirdIcon,updatedThirdLink,updatedThirdLinkText,updatedsourceTitle,updatedsourceDescription,updatedgitHubIcon,updatedgithubLinkText);updatedContent.save(),res.redirect("/admin/all-content")},exports.getAllContents=(req,res,next)=>{Content.fetchAll(contents=>{res.render("admin/all-content",{conts:contents,pageTitle:"Admin All Content",path:"/admin/all-content"})})},exports.postDeleteContent=(req,res,next)=>{const contsId=req.body.contentId;Content.deleteById(contsId),res.redirect("/admin/all-content")};