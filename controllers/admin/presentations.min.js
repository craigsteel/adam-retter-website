const Presentation=require("../../models/presentations");exports.getAddPresentation=(req,res,next)=>{res.render("admin/edit-presentations",{pageTitle:"Add Presentation",path:"/admin/add-presentations",editing:!1})},exports.postAddPresentation=(req,res,next)=>{const title=req.body.title,description=req.body.description,firstIcon=req.body.firstIcon,firstLink=req.body.firstLink,firstLinkText=req.body.firstLinkText,secondIcon=req.body.secondIcon,secondLink=req.body.secondLink,secondLinkText=req.body.secondLinkText,thirdIcon=req.body.thirdIcon,thirdLink=req.body.thirdLink,thirdLinkText=req.body.firstLinkText,presentation=new Presentation(null,title,description,firstIcon,firstLink,firstLinkText,secondIcon,secondLink,secondLinkText,thirdIcon,thirdLink,thirdLinkText);presentation.save(),res.redirect("/admin/all-presentations")},exports.getEditPresentation=(req,res,next)=>{const editMode=req.query.edit;if(!editMode)return res.redirect("/");const presentationId=req.params.presentationId;Presentation.findById(presentationId,presentation=>{if(!presentation)return res.redirect("/");res.render("admin/edit-presentations",{pageTitle:"Edit Presentation",path:"/admin/edit-presentations",editing:editMode,presentations:presentations})})},exports.postEditPresentation=(req,res,next)=>{const presentationId=req.body.presentationId,updatedTitle=req.body.title,updatedDescription=req.body.description,updatedFirstIcon=req.body.firstIcon,updatedFirstLink=req.body.firstLink,updatedFirstLinkText=req.body.firstLinkText,updatedSecondIcon=req.body.secondIcon,updatedSecondLink=req.body.secondLink,updatedSecondLinkText=req.body.secondLinkText,updatedThirdIcon=req.body.thirdIcon,updatedThirdLink=req.body.thirdLink,updatedThirdLinkText=req.body.thirdLinkText,updatedPresentation=new Presentation(presentationId,updatedTitle,updatedDescription,updatedFirstIcon,updatedFirstLink,updatedFirstLinkText,updatedSecondIcon,updatedSecondLink,updatedSecondLinkText,updatedThirdIcon,updatedThirdLink,updatedThirdLinkText);updatedPresentation.save(),res.redirect("/admin/all-presentations")},exports.getAllPresentations=(req,res,next)=>{Presentation.fetchAll(presentations=>{res.render("admin/all-presentations",{presentations:presentations,pageTitle:"Admin All presentations",path:"/admin/all-presentations"})})},exports.postDeletePresentation=(req,res,next)=>{const presentationsId=req.body.presentationId;Content.deleteById(presentationsId),res.redirect("/admin/all-presentations")};